!function(e){window.projectFunctions=window.projectFunctions||{},e(document).ready(function(){projectFunctions.generalFunctions.init(),projectFunctions.brugereTable.init(),projectFunctions.historyTable.init(),projectFunctions.pagination.init(),projectFunctions.customSelect.init(),projectFunctions.formValidation.init(),projectFunctions.fakturaerTable.init(),projectFunctions.adminPopup.init()}),e(window).on("load",function(){}),projectFunctions.adminPopup=projectFunctions.adminPopup||{},projectFunctions.adminPopup.init=function(){var e=document.querySelector("#profile");e&&this.initData()},projectFunctions.adminPopup.initData=function(){e(".bin").on("click",function(){var e=document.getElementById("slet-admin"),t=document.querySelector(".popup__content"),n=document.querySelector(".popup__content--box");e.classList.add("show"),t.classList.add("content-show");var i=this.closest("tr").children[0].textContent;n.insertAdjacentHTML("afterbegin","Du er ved at fjerne "+i)});var t=document.querySelector(".popup__content--box-cancel");t.addEventListener("click",function(){var e=document.getElementById("slet-admin"),t=document.querySelector(".popup__content");t.classList.remove("content-show"),e.classList.remove("show");var n=document.querySelector(".popup__content--box");setTimeout(function(){n.removeChild(n.firstChild)},500)})},projectFunctions.brugereTable=projectFunctions.brugereTable||{},projectFunctions.brugereTable.init=function(){this.initData()},projectFunctions.brugereTable.initData=function(){function t(e,t,n,i,o){var r='\n      <div class="popup" id="slet">\n        <div class="popup__content">\n          <div class="popup__content--box">\n            Du er ved at fjerne '+e+' \n            <span>Ønsker du at fortætte?</span>\n            <hr>\n              <div class="d-flex justify-content-between">\n                <a href="#brugere"><button class="popup__content--box-cancel">Annuller</button></a>\n                <button class="popup__content--box-delete">Slet bruger</button>\n              </div>\n            </div>\n        </div>\n      </div>\n      \n      <form class="brugere__user-form" action="rediger-bruger.php" method="post" novalidate>\n        <input name="name" value="'+e+'">\n        <input name="email" value="'+t+'">\n        <input name="department" value="'+n+'">\n        <input name="payment-method" value="'+i+'">\n      \n        <div class="brugere__user-options d-flex">\n          <div class="brugere__user-options--box">\n            <button type="submit"><span style="text-align: left">Rediger bruger</span></button>\n            <span>Gør til administrator</span>\n            <a href="#slet"><span>Slet bruger</span></a>\n          </div>\n          <div class="brugere__user-options--arrow"></div>\n        </div>\n\n      </form>';o.parentNode.insertAdjacentHTML("afterbegin",r)}e(".dot_option").on("click",function(e){e.stopPropagation();var n=void 0;n=e.target.classList.contains("dot_option")?e.target:e.target.closest(".dot_option");var i=n.closest("tr").children[0].textContent,o=n.closest("tr").children[1].textContent,r=n.closest("tr").children[2].textContent,a=n.closest("tr").children[3].textContent,s=document.querySelectorAll(".popup"),c=n.parentNode.firstElementChild.classList.contains("popup");if(c)for(var l=n.parentNode;!l.firstElementChild.classList.contains("dot_option");)l.removeChild(l.firstElementChild);else{if(s)for(var u=0;u<s.length;u++)for(var d=s[u].parentNode;!d.firstElementChild.classList.contains("dot_option");)d.removeChild(d.firstElementChild);t(i,o,r,a,n)}});var n=document.querySelector(".brugere__table");if(n)for(var i=document.querySelectorAll(".table__icons--filter"),o=function(e){var t=void 0;i[e].addEventListener("click",function(n){t=0==e?0:2,projectFunctions.customSort.sortTable(t,n,"brugere__table")})},r=0;r<i.length;r++)o(r)},projectFunctions.customSelect=projectFunctions.customSelect||{},projectFunctions.customSelect.init=function(){var e=document.querySelector(".custom-select");e&&this.mySelect()},projectFunctions.customSelect.mySelect=function(){function e(e){var t,n,i,o=[];for(t=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),i=0;i<n.length;i++)e==n[i]?o.push(i):n[i].classList.remove("select-arrow-active");for(i=0;i<t.length;i++)o.indexOf(i)&&t[i].classList.add("select-hide")}var t,n,i,o,r,a,s;for(t=document.getElementsByClassName("custom-select"),n=0;n<t.length;n++){for(o=t[n].getElementsByTagName("select")[0],r=document.createElement("div"),r.setAttribute("class","select-selected"),r.innerHTML=o.options[o.selectedIndex].innerHTML,t[n].appendChild(r),a=document.createElement("div"),a.setAttribute("class","select-items select-hide"),i=1;i<o.length;i++)s=document.createElement("div"),s.innerHTML=o.options[i].innerHTML,s.addEventListener("click",function(e){var t,n,i,o,r;for(o=this.parentNode.parentNode.getElementsByTagName("select")[0],r=this.parentNode.previousSibling,n=0;n<o.length;n++)if(o.options[n].innerHTML==this.innerHTML){for(o.selectedIndex=n,r.innerHTML=this.innerHTML,t=this.parentNode.getElementsByClassName("same-as-selected"),i=0;i<t.length;i++)t[i].removeAttribute("class");this.setAttribute("class","same-as-selected");break}r.click()}),a.appendChild(s);t[n].appendChild(a),r.addEventListener("click",function(t){t.stopPropagation(),e(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}document.addEventListener("click",e)},projectFunctions.fakturaerTable=projectFunctions.fakturaerTable||{},projectFunctions.fakturaerTable.init=function(){var e=document.querySelector(".fakturaer");e&&this.initData()},projectFunctions.fakturaerTable.initData=function(){var e=document.querySelector(".fak-table");if(e){var t=document.querySelector(".fak-filter");t.addEventListener("click",function(e){projectFunctions.customSort.sortTable(1,e,"fak-table")})}var n=document.querySelector(".p-boder");if(n){var i=document.querySelector(".p-boder-filter");i.addEventListener("click",function(e){projectFunctions.customSort.sortTable(1,e,"p-boder")})}},projectFunctions.formValidation=projectFunctions.formValidation||{},projectFunctions.formValidation.init=function(){var e=document.querySelector(".gm-form");e&&this.myValidation()},projectFunctions.formValidation.myValidation=function(){function e(e,t){switch(e.type){case"text":t=/^([^0-9]*)$/;break;case"email":t=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;break;default:t=/.*/}return t}function t(e,t){e.classList.add("novalid"),e.nextElementSibling&&e.nextElementSibling.classList.contains("error")||e.parentNode.insertAdjacentHTML("beforeend",t)}function n(e,n){e.forEach(function(e){e&&t(e,n)})}function i(e){e.forEach(function(e){if(e){var t=e.parentNode;e.addEventListener("focus",function(){e.nextElementSibling&&e.nextElementSibling.classList.contains("error")&&(e.classList.remove("novalid"),t.removeChild(e.nextElementSibling))})}})}function o(t){var n=void 0;t.forEach(function(t){t&&t.addEventListener("input",function(){n=e(t,n);var i=n.test(t.value),o=t.value;i?t.classList.add("valid"):(t.classList.remove("valid"),t.classList.add("novalid")),o||(t.classList.remove("valid"),t.classList.add("novalid"))})})}function r(n,i){var o=void 0;n.forEach(function(n){n&&(o=e(n,o),o.test(n.value)||""==n.value||(i.preventDefault(),"email"==n.type?t(n,g):t(n,f)))})}function a(t){var n=void 0;t.forEach(function(t){t&&(n=e(t,n),n.test(t.value)&&""!=t.value&&t.classList.add("valid"))})}var s=document.querySelector(".user-form"),c=document.querySelector(".login-form"),l=document.getElementById("name"),u=document.getElementById("email"),d=document.getElementById("field"),p=(document.getElementById("paymentMethod"),document.getElementById("login-email")),m=document.getElementById("lg-password"),v='<div class="error d-flex flex-column align-items-center"><p class="error-text">This field is required</p><div class="error-down"></div><img class="error-warning" src="img/warning.svg"></div>',g='<div class="error d-flex flex-column align-items-center"><p class="error-text">Indtast en gyldig e-mail</p><div class="error-down"></div><img class="error-warning" src="img/warning.svg"></div>',f='<div class="error d-flex flex-column align-items-center"><p class="error-text">Enter a valid format</p><div class="error-down"></div><img class="error-warning" src="img/warning.svg"></div>',b=[l,u,d,p,m];a(b),o(b),i(b);var h=[],y=[];s&&s.addEventListener("submit",function(e){""!==l.value&&null!=l.value||h.includes(l)?l:h.push(l),""!==u.value&&null!=u.value||h.includes(u)?u:h.push(u),""!==d.value&&null!=d.value||h.includes(d)?d:h.push(d),""==l.value&&null==l.value||y.includes(l)?l:y.push(l),""==u.value&&null==u.value||y.includes(u)?u:y.push(u),""==d.value&&null==d.value||y.includes(d)?d:y.push(d),h.length>0&&(e.preventDefault(),n(h,v),h=[]),y.length>0&&(r(y,e),y=[])}),c&&(console.log(p),c.addEventListener("submit",function(e){""!==p.value&&null!=p.value||h.includes(p)?p:h.push(p),""!==m.value&&null!=m.value||h.includes(m)?m:h.push(m),""==p.value&&null==p.value||y.includes(p)?p:y.push(p),""==m.value&&null==m.value||y.includes(m)?m:y.push(m),h.length>0&&(e.preventDefault(),n(h,v),h=[]),y.length>0&&(r(y,e),y=[])}))},projectFunctions.generalFunctions=projectFunctions.generalFunctions||{},projectFunctions.generalFunctions.init=function(){this.checkDevice()},projectFunctions.generalFunctions.checkDevice=function(){var e=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(e=!0),e},projectFunctions.historyTable=projectFunctions.historyTable||{},projectFunctions.historyTable.init=function(){this.initData()},projectFunctions.historyTable.initData=function(){var e=document.querySelector(".history__table");if(e)for(var t=document.querySelectorAll(".table__icons--filter"),n=function(e){t[e].addEventListener("click",function(t){projectFunctions.customSort.sortTable(e,t,"history__table")})},i=0;i<t.length;i++)n(i)},projectFunctions.pagination=projectFunctions.pagination||{},projectFunctions.pagination.init=function(){this.initPagination()},projectFunctions.pagination.initPagination=function(){var e=document.querySelector(".pagination");if(e){var t=document.querySelectorAll(".page");t.forEach(function(e){e.addEventListener("click",function(){if(!this.classList.contains("current-page")){var e=document.querySelector(".current-page");e.classList.remove("current-page"),this.classList.add("current-page")}})});var n=document.querySelectorAll(".page-move");n.forEach(function(e){e.addEventListener("click",function(){var e=document.querySelector(".current-page");this.classList.contains("previous")?e.previousElementSibling&&!e.previousElementSibling.classList.contains("previous")&&(e.classList.remove("current-page"),e.previousElementSibling.classList.add("current-page")):this.classList.contains("next")&&e.nextElementSibling&&!e.nextElementSibling.classList.contains("incoming")&&(e.classList.remove("current-page"),e.nextElementSibling.classList.add("current-page"))})})}},projectFunctions.customSort=projectFunctions.customSort||{},projectFunctions.customSort.sortTable=function(e,t,n){var n,i,o,r,a,s,c,l,u=0,d={januar:"01",februar:"02",marts:"03",april:"04",maj:"05",juni:"06",juli:"07",august:"08",september:"09",oktober:"10",november:"11",december:"12"};for(n=document.querySelector("."+n),o=!0,l="asc";o;){for(o=!1,i=n.rows,r=1;r<i.length-1;r++)if(c=!1,a=i[r].getElementsByTagName("td")[e],s=i[r+1].getElementsByTagName("td")[e],Number.isInteger(parseInt(a.innerHTML.charAt(0)))){var p=a.innerHTML.split(" ");p[0]=p[0].split("/").reverse().join("-"),p[1]=p[1]+":00Z",p=p.join("T"),p=new Date(p).getTime();var m=s.innerHTML.split(" ");if(m[0]=m[0].split("/").reverse().join("-"),m[1]=m[1]+":00Z",m=m.join("T"),m=new Date(m).getTime(),"asc"==l){if(p>m){c=!0;break}}else if("desc"==l&&p<m){c=!0;break}}else if(d[a.innerHTML.split(" ")[0].toLowerCase()]){var v=a.innerHTML.split(" ").reverse();v[1]=d[v[1].toLowerCase()],v=v.join("-"),v=new Date(v).getTime();var g=s.innerHTML.split(" ").reverse();if(g[1]=d[g[1].toLowerCase()],g=g.join("-"),g=new Date(g).getTime(),"asc"==l){if(v>g){c=!0;break}}else if("desc"==l&&v<g){c=!0;break}}else if("asc"==l){if(a.innerHTML.toLowerCase()>s.innerHTML.toLowerCase()){c=!0;break}}else if("desc"==l&&a.innerHTML.toLowerCase()<s.innerHTML.toLowerCase()){c=!0;break}c?(i[r].parentNode.insertBefore(i[r+1],i[r]),o=!0,u++):0==u&&"asc"==l&&(l="desc",o=!0)}var f=document.querySelectorAll(".table__icons--filter"),b=document.querySelector(".fakturaer");if(f&&!b)for(var h=0;h<f.length;h++)f[h].firstElementChild.style.borderBottomColor="#BFBFBF",f[h].lastElementChild.style.borderTopColor="#BFBFBF";"asc"==l?t.target.classList.contains("table_icons--filter")?(t.target.firstElementChild.style.borderBottomColor="#263B80",t.target.lastElementChild.style.borderTopColor="#BFBFBF"):(t.target.parentNode.firstElementChild.style.borderBottomColor="#263B80",t.target.parentNode.lastElementChild.style.borderTopColor="#BFBFBF"):t.target.classList.contains("table_icons--filter")?(t.target.firstElementChild.style.borderBottomColor="#BFBFBF",t.target.lastElementChild.style.borderTopColor="#263B80"):(t.target.parentNode.firstElementChild.style.borderBottomColor="#BFBFBF",t.target.parentNode.lastElementChild.style.borderTopColor="#263B80")}}(jQuery);